{"ast":null,"code":"import{useState,useEffect,forwardRef}from\"react\";import{useNavigate}from'react-router-dom';import axios from\"axios\";import DatePicker from'react-datepicker';import'react-datepicker/dist/react-datepicker.css';import style from'../style/Add.module.css';import InputMonto from\"./InputMonto\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3000';function Add(_ref){let{onMovementAdded,movementToEdit,only}=_ref;const navigate=useNavigate();const[ingresoMonto,setIngresoMonto]=useState('');const[egresoMonto,setEgresoMonto]=useState('');const[categoriaIngreso,setCategoriaIngreso]=useState('');const[categoriaEgreso,setCategoriaEgreso]=useState('');const[detalleIngreso,setDetalleIngreso]=useState('');const[detalleEgreso,setDetalleEgreso]=useState('');const[selectedDateIngreso,setSelectedDateIngreso]=useState(new Date());const[selectedDateEgreso,setSelectedDateEgreso]=useState(new Date());const[error,setError]=useState('');const[loading,setLoading]=useState(false);const isEditing=!!movementToEdit;useEffect(()=>{if(isEditing){const fechaUTC=new Date(movementToEdit.fecha);fechaUTC.setMinutes(fechaUTC.getMinutes()+fechaUTC.getTimezoneOffset());if(movementToEdit.tipo==='ingreso'){setIngresoMonto(movementToEdit.monto.toString());setCategoriaIngreso(movementToEdit.categoria);setDetalleIngreso(movementToEdit.detalle||'');setSelectedDateIngreso(fechaUTC);setEgresoMonto('');setCategoriaEgreso('');setDetalleEgreso('');setSelectedDateEgreso(new Date());}else{setEgresoMonto(movementToEdit.monto.toString());setCategoriaEgreso(movementToEdit.categoria);setDetalleEgreso(movementToEdit.detalle||'');setSelectedDateEgreso(fechaUTC);setIngresoMonto('');setCategoriaIngreso('');setDetalleIngreso('');setSelectedDateIngreso(new Date());}}else{setIngresoMonto('');setCategoriaIngreso('');setDetalleIngreso('');setSelectedDateIngreso(new Date());setEgresoMonto('');setCategoriaEgreso('');setDetalleEgreso('');setSelectedDateEgreso(new Date());}},[movementToEdit,isEditing]);const handleDateChangeIngreso=date=>setSelectedDateIngreso(date);const handleDateChangeEgreso=date=>setSelectedDateEgreso(date);const handleSubmit=async(e,tipo)=>{e.preventDefault();setError('');setLoading(true);let monto,categoria,detalle,selectedDate;if(tipo==='ingreso'){monto=ingresoMonto;categoria=categoriaIngreso;detalle=detalleIngreso;selectedDate=selectedDateIngreso;}else{monto=egresoMonto;categoria=categoriaEgreso;detalle=detalleEgreso;selectedDate=selectedDateEgreso;}if(!monto||isNaN(parseFloat(monto))||parseFloat(monto)<=0){setError(\"Por favor, ingresa un monto válido.\");setLoading(false);return;}const fechaLocal=new Date(selectedDate);fechaLocal.setMinutes(fechaLocal.getMinutes()-fechaLocal.getTimezoneOffset());const fechaFormateada=fechaLocal.toISOString().slice(0,10);const dataToSend={tipo:isEditing?movementToEdit.tipo:tipo,monto:parseFloat(monto),categoria:categoria,fecha:fechaFormateada,detalle:detalle};try{const token=localStorage.getItem(\"token\");if(!token)throw new Error(\"No se encontró autorización.\");if(isEditing){await axios.put(`${API_URL}/api/add/${movementToEdit._id}`,dataToSend,{headers:{Authorization:`Bearer ${token}`}});}else{await axios.post(`${API_URL}/api/add`,dataToSend,{headers:{Authorization:`Bearer ${token}`}});// Limpiar solo los inputs del formulario usado\nif(tipo==='ingreso'){setIngresoMonto('');setCategoriaIngreso('');setDetalleIngreso('');setSelectedDateIngreso(new Date());}else{setEgresoMonto('');setCategoriaEgreso('');setDetalleEgreso('');setSelectedDateEgreso(new Date());}}if(onMovementAdded)onMovementAdded();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Error al guardar el movimiento\");}finally{setLoading(false);}};const CustomDateInput=/*#__PURE__*/forwardRef((_ref2,ref)=>{let{value,onClick}=_ref2;return/*#__PURE__*/_jsx(\"input\",{className:style.datePicker,onClick:onClick,ref:ref,value:value,readOnly:true});});CustomDateInput.displayName='CustomDateInput';return/*#__PURE__*/_jsxs(\"div\",{className:style.container,children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:style.spinner}),/*#__PURE__*/_jsx(\"p\",{className:style.title,children:isEditing?`Editando Movimiento`:'Añadir Movimiento '}),/*#__PURE__*/_jsxs(\"div\",{className:style.containerAllForm,children:[!only||only==='ingreso'?/*#__PURE__*/_jsxs(\"form\",{className:style.formone,onSubmit:e=>handleSubmit(e,\"ingreso\"),children:[/*#__PURE__*/_jsx(InputMonto,{className:style.inputMonto,value:ingresoMonto,onChange:setIngresoMonto,disabled:isEditing&&movementToEdit.tipo==='egreso'}),/*#__PURE__*/_jsxs(\"div\",{className:style.containerBtn,children:[/*#__PURE__*/_jsx(\"input\",{name:\"categoriaIngreso\",className:style.btn,placeholder:\"Categor\\xEDa\",value:categoriaIngreso,onChange:e=>setCategoriaIngreso(e.target.value),required:true,disabled:isEditing&&movementToEdit.tipo==='egreso'}),/*#__PURE__*/_jsx(DatePicker,{selected:selectedDateIngreso,onChange:handleDateChangeIngreso,dateFormat:\"dd/MM/yyyy\",customInput:/*#__PURE__*/_jsx(CustomDateInput,{}),wrapperClassName:style.datePickerWrapper,disabled:isEditing&&movementToEdit.tipo==='egreso'})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.containerDetalle,children:[/*#__PURE__*/_jsx(\"input\",{name:\"detalleIngreso\",className:style.detalle,placeholder:\"Detalle\",value:detalleIngreso,onChange:e=>setDetalleIngreso(e.target.value),disabled:isEditing&&movementToEdit.tipo==='egreso'}),/*#__PURE__*/_jsx(\"button\",{className:style.buttonSend,type:\"submit\",disabled:loading||isEditing&&movementToEdit.tipo==='egreso',children:isEditing?'Guardar Cambios':'Añadir ingreso'})]})]}):null,!only||only==='egreso'?/*#__PURE__*/_jsxs(\"form\",{className:style.formtwo,onSubmit:e=>handleSubmit(e,\"egreso\"),children:[/*#__PURE__*/_jsx(InputMonto,{className:style.inputMonto,value:egresoMonto,onChange:setEgresoMonto,disabled:isEditing&&movementToEdit.tipo==='ingreso'}),/*#__PURE__*/_jsxs(\"div\",{className:style.containerBtn,children:[/*#__PURE__*/_jsx(\"input\",{name:\"categoriaEgreso\",className:style.btn,placeholder:\"Categor\\xEDa\",value:categoriaEgreso,onChange:e=>setCategoriaEgreso(e.target.value),required:true,disabled:isEditing&&movementToEdit.tipo==='ingreso'}),/*#__PURE__*/_jsx(DatePicker,{selected:selectedDateEgreso,onChange:handleDateChangeEgreso,dateFormat:\"dd/MM/yyyy\",customInput:/*#__PURE__*/_jsx(CustomDateInput,{}),wrapperClassName:style.datePickerWrapper,disabled:isEditing&&movementToEdit.tipo==='ingreso'})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.containerDetalle,children:[/*#__PURE__*/_jsx(\"input\",{name:\"detalleEgreso\",className:style.detalle,placeholder:\"Detalle\",value:detalleEgreso,onChange:e=>setDetalleEgreso(e.target.value),disabled:isEditing&&movementToEdit.tipo==='ingreso'}),/*#__PURE__*/_jsx(\"button\",{className:style.buttonSend,type:\"submit\",disabled:loading||isEditing&&movementToEdit.tipo==='ingreso',children:isEditing?'Guardar Cambios':'Añadir egreso'})]})]}):null]}),isEditing&&/*#__PURE__*/_jsx(\"div\",{className:style.cancelContainer,children:/*#__PURE__*/_jsx(\"button\",{className:style.cancelButton,type:\"button\",onClick:()=>{if(onMovementAdded)onMovementAdded();navigate('/');},children:\"Cancelar Edici\\xF3n\"})}),error&&/*#__PURE__*/_jsx(\"p\",{className:style.errorText,children:error})]});}export default Add;","map":{"version":3,"names":["useState","useEffect","forwardRef","useNavigate","axios","DatePicker","style","InputMonto","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","Add","_ref","onMovementAdded","movementToEdit","only","navigate","ingresoMonto","setIngresoMonto","egresoMonto","setEgresoMonto","categoriaIngreso","setCategoriaIngreso","categoriaEgreso","setCategoriaEgreso","detalleIngreso","setDetalleIngreso","detalleEgreso","setDetalleEgreso","selectedDateIngreso","setSelectedDateIngreso","Date","selectedDateEgreso","setSelectedDateEgreso","error","setError","loading","setLoading","isEditing","fechaUTC","fecha","setMinutes","getMinutes","getTimezoneOffset","tipo","monto","toString","categoria","detalle","handleDateChangeIngreso","date","handleDateChangeEgreso","handleSubmit","e","preventDefault","selectedDate","isNaN","parseFloat","fechaLocal","fechaFormateada","toISOString","slice","dataToSend","token","localStorage","getItem","Error","put","_id","headers","Authorization","post","err","_err$response","_err$response$data","response","data","CustomDateInput","_ref2","ref","value","onClick","className","datePicker","readOnly","displayName","container","children","spinner","title","containerAllForm","formone","onSubmit","inputMonto","onChange","disabled","containerBtn","name","btn","placeholder","target","required","selected","dateFormat","customInput","wrapperClassName","datePickerWrapper","containerDetalle","buttonSend","type","formtwo","cancelContainer","cancelButton","errorText"],"sources":["/Users/maidev/Desktop/maiWork/growth-web/frontend/src/components/Add.jsx"],"sourcesContent":["import { useState, useEffect, forwardRef } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport axios from \"axios\";\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport style from '../style/Add.module.css';\nimport InputMonto from \"./InputMonto\"; \n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\n\nfunction Add({ onMovementAdded, movementToEdit, only }) {\n  const navigate = useNavigate();\n  const [ingresoMonto, setIngresoMonto] = useState('');\n  const [egresoMonto, setEgresoMonto] = useState('');\n  const [categoriaIngreso, setCategoriaIngreso] = useState('');\n  const [categoriaEgreso, setCategoriaEgreso] = useState('');\n  const [detalleIngreso, setDetalleIngreso] = useState('');\n  const [detalleEgreso, setDetalleEgreso] = useState('');\n  const [selectedDateIngreso, setSelectedDateIngreso] = useState(new Date());\n  const [selectedDateEgreso, setSelectedDateEgreso] = useState(new Date());\n\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const isEditing = !!movementToEdit;\n\n  useEffect(() => {\n    if (isEditing) {\n      const fechaUTC = new Date(movementToEdit.fecha);\n      fechaUTC.setMinutes(fechaUTC.getMinutes() + fechaUTC.getTimezoneOffset());\n      if (movementToEdit.tipo === 'ingreso') {\n        setIngresoMonto(movementToEdit.monto.toString());\n        setCategoriaIngreso(movementToEdit.categoria);\n        setDetalleIngreso(movementToEdit.detalle || '');\n        setSelectedDateIngreso(fechaUTC);\n        setEgresoMonto('');\n        setCategoriaEgreso('');\n        setDetalleEgreso('');\n        setSelectedDateEgreso(new Date());\n      } else {\n        setEgresoMonto(movementToEdit.monto.toString());\n        setCategoriaEgreso(movementToEdit.categoria);\n        setDetalleEgreso(movementToEdit.detalle || '');\n        setSelectedDateEgreso(fechaUTC);\n        setIngresoMonto('');\n        setCategoriaIngreso('');\n        setDetalleIngreso('');\n        setSelectedDateIngreso(new Date());\n      }\n    } else {\n      setIngresoMonto('');\n      setCategoriaIngreso('');\n      setDetalleIngreso('');\n      setSelectedDateIngreso(new Date());\n      setEgresoMonto('');\n      setCategoriaEgreso('');\n      setDetalleEgreso('');\n      setSelectedDateEgreso(new Date());\n    }\n  }, [movementToEdit, isEditing]);\n\n  const handleDateChangeIngreso = (date) => setSelectedDateIngreso(date);\n  const handleDateChangeEgreso = (date) => setSelectedDateEgreso(date);\n\n  const handleSubmit = async (e, tipo) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    let monto, categoria, detalle, selectedDate;\n    if (tipo === 'ingreso') {\n      monto = ingresoMonto;\n      categoria = categoriaIngreso;\n      detalle = detalleIngreso;\n      selectedDate = selectedDateIngreso;\n    } else {\n      monto = egresoMonto;\n      categoria = categoriaEgreso;\n      detalle = detalleEgreso;\n      selectedDate = selectedDateEgreso;\n    }\n    if (!monto || isNaN(parseFloat(monto)) || parseFloat(monto) <= 0) {\n      setError(\"Por favor, ingresa un monto válido.\");\n      setLoading(false);\n      return;\n    }\n    const fechaLocal = new Date(selectedDate);\n    fechaLocal.setMinutes(fechaLocal.getMinutes() - fechaLocal.getTimezoneOffset());\n    const fechaFormateada = fechaLocal.toISOString().slice(0, 10);\n    const dataToSend = {\n      tipo: isEditing ? movementToEdit.tipo : tipo,\n      monto: parseFloat(monto),\n      categoria: categoria,\n      fecha: fechaFormateada,\n      detalle: detalle\n    };\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) throw new Error(\"No se encontró autorización.\");\n\n      if (isEditing) {\n        await axios.put(`${API_URL}/api/add/${movementToEdit._id}`, dataToSend, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n      } else {\n        await axios.post(`${API_URL}/api/add`, dataToSend, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        // Limpiar solo los inputs del formulario usado\n        if (tipo === 'ingreso') {\n          setIngresoMonto('');\n          setCategoriaIngreso('');\n          setDetalleIngreso('');\n          setSelectedDateIngreso(new Date());\n        } else {\n          setEgresoMonto('');\n          setCategoriaEgreso('');\n          setDetalleEgreso('');\n          setSelectedDateEgreso(new Date());\n        }\n      }\n      if (onMovementAdded) onMovementAdded();\n\n    } catch (err) {\n      setError(err.response?.data?.error || \"Error al guardar el movimiento\");\n    } finally {\n      setLoading(false); \n    }\n  };\n  \n  const CustomDateInput = forwardRef(({ value, onClick }, ref) => (\n    <input\n      className={style.datePicker}\n      onClick={onClick}\n      ref={ref}\n      value={value}\n      readOnly\n    />\n  ));\n  CustomDateInput.displayName = 'CustomDateInput';\n\n  return (\n    <div className={style.container}>\n      {loading && <div className={style.spinner}></div>}\n\n      <p className={style.title}>{isEditing ? `Editando Movimiento` : 'Añadir Movimiento '}</p>\n      \n      <div className={style.containerAllForm}>\n        {/* --- Formulario de Ingreso --- */}\n    {!only || only === 'ingreso' ? (\n    <form className={style.formone} onSubmit={(e) => handleSubmit(e, \"ingreso\")}> \n      <InputMonto  className={style.inputMonto}  value={ingresoMonto} onChange={setIngresoMonto} disabled={isEditing && movementToEdit.tipo === 'egreso'} />\n      <div className={style.containerBtn}>\n        <input name=\"categoriaIngreso\" className={style.btn} placeholder=\"Categoría\" value={categoriaIngreso} onChange={(e) => setCategoriaIngreso(e.target.value)} required disabled={isEditing && movementToEdit.tipo === 'egreso'} />\n        <DatePicker selected={selectedDateIngreso} onChange={handleDateChangeIngreso} dateFormat=\"dd/MM/yyyy\" customInput={<CustomDateInput />} wrapperClassName={style.datePickerWrapper} disabled={isEditing && movementToEdit.tipo === 'egreso'} />\n      </div>\n      <div className={style.containerDetalle}>\n        <input name=\"detalleIngreso\" className={style.detalle} placeholder=\"Detalle\" value={detalleIngreso} onChange={(e) => setDetalleIngreso(e.target.value)} disabled={isEditing && movementToEdit.tipo === 'egreso'} />\n        <button className={style.buttonSend} type=\"submit\" disabled={loading || (isEditing && movementToEdit.tipo === 'egreso')}>\n          {isEditing ? 'Guardar Cambios' : 'Añadir ingreso'}\n        </button>\n      </div>\n    </form>\n    ) : null}\n\n        {/* --- Formulario de Egreso --- */}\n    {!only || only === 'egreso' ? (\n    <form className={style.formtwo} onSubmit={(e) => handleSubmit(e, \"egreso\")}> \n      <InputMonto className={style.inputMonto} value={egresoMonto} onChange={setEgresoMonto} disabled={isEditing && movementToEdit.tipo === 'ingreso'} />\n      <div className={style.containerBtn}>\n        <input name=\"categoriaEgreso\" className={style.btn} placeholder=\"Categoría\" value={categoriaEgreso} onChange={(e) => setCategoriaEgreso(e.target.value)} required disabled={isEditing && movementToEdit.tipo === 'ingreso'} />\n        <DatePicker selected={selectedDateEgreso} onChange={handleDateChangeEgreso} dateFormat=\"dd/MM/yyyy\" customInput={<CustomDateInput />} wrapperClassName={style.datePickerWrapper} disabled={isEditing && movementToEdit.tipo === 'ingreso'} />\n      </div>\n      <div className={style.containerDetalle}>\n        <input name=\"detalleEgreso\" className={style.detalle} placeholder=\"Detalle\" value={detalleEgreso} onChange={(e) => setDetalleEgreso(e.target.value)} disabled={isEditing && movementToEdit.tipo === 'ingreso'} />\n        <button className={style.buttonSend} type=\"submit\" disabled={loading || (isEditing && movementToEdit.tipo === 'ingreso')}>\n          {isEditing ? 'Guardar Cambios' : 'Añadir egreso'}\n        </button>\n      </div>\n    </form>\n    ) : null}\n      </div>\n      {isEditing && (\n          <div className={style.cancelContainer}>\n            <button\n              className={style.cancelButton}\n              type=\"button\"\n              onClick={() => {\n                if (onMovementAdded) onMovementAdded();\n                navigate('/');\n              }}\n            >\n              Cancelar Edición\n            </button>\n          </div>\n      )}\n      {error && <p className={style.errorText}>{error}</p>}\n    </div>\n  );\n}\n\nexport default Add;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}