{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:3000\";\n\n// Creamos una instancia personalizada\nconst api = axios.create({\n  baseURL: API_URL\n});\n\n// Interceptor para el 401 y limpieza de tokens\napi.interceptors.response.use(response => response, error => {\n  if (error.response && error.response.status === 401) {\n    localStorage.removeItem(\"token\");\n    sessionStorage.removeItem(\"token\");\n    window.location.href = \"/\";\n  }\n  return Promise.reject(error);\n});\n\n// Definimos las funciones de tareas (Data Access Layer)\nexport const taskService = {\n  getAll: token => api.get(\"/api/task\", {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }),\n  getByDate: (token, fecha) => api.get(`/api/task?fecha=${fecha}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }),\n  updateStatus: (token, taskId, data) => api.put(`/api/task/${taskId}/status`, data, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }),\n  delete: (token, taskId) => api.delete(`/api/task/${taskId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n};\n\n//defino las funciones de leftside.jsx\n\nexport const movimientoService = {\n  // Le pusimos \"getAll\" porque trae todos los movimientos del usuario\n  getAll: token => api.get(\"/api/add\", {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","interceptors","response","use","error","status","localStorage","removeItem","sessionStorage","window","location","href","Promise","reject","taskService","getAll","token","get","headers","Authorization","getByDate","fecha","updateStatus","taskId","data","put","delete","movimientoService"],"sources":["/Users/maidev/Desktop/maiWork/growth-web/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:3000\";\n\n// Creamos una instancia personalizada\nconst api = axios.create({\n  baseURL: API_URL,\n});\n\n// Interceptor para el 401 y limpieza de tokens\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response && error.response.status === 401) {\n      localStorage.removeItem(\"token\");\n      sessionStorage.removeItem(\"token\");\n      window.location.href = \"/\";\n    }\n    return Promise.reject(error);\n  }\n); \n\n// Definimos las funciones de tareas (Data Access Layer)\nexport const taskService = {\n  getAll: (token) => \n    api.get(\"/api/task\", { headers: { Authorization: `Bearer ${token}` } }),\n    \n  getByDate: (token, fecha) => \n    api.get(`/api/task?fecha=${fecha}`, { headers: { Authorization: `Bearer ${token}` } }),\n    \n  updateStatus: (token, taskId, data) => \n    api.put(`/api/task/${taskId}/status`, data, { headers: { Authorization: `Bearer ${token}` } }),\n    \n  delete: (token, taskId) => \n    api.delete(`/api/task/${taskId}`, { headers: { Authorization: `Bearer ${token}` } }),\n};\n\n//defino las funciones de leftside.jsx\n\nexport const movimientoService = {\n  // Le pusimos \"getAll\" porque trae todos los movimientos del usuario\n  getAll: (token) => api.get(\"/api/add\", { headers: { Authorization: `Bearer ${token}` } }),\n};\n\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;;AAExE;AACA,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACvBC,OAAO,EAAEN;AACX,CAAC,CAAC;;AAEF;AACAI,GAAG,CAACG,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC1BD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;EACT,IAAIA,KAAK,CAACF,QAAQ,IAAIE,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IACnDC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCC,cAAc,CAACD,UAAU,CAAC,OAAO,CAAC;IAClCE,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;EAC5B;EACA,OAAOC,OAAO,CAACC,MAAM,CAACT,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACA,OAAO,MAAMU,WAAW,GAAG;EACzBC,MAAM,EAAGC,KAAK,IACZlB,GAAG,CAACmB,GAAG,CAAC,WAAW,EAAE;IAAEC,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUH,KAAK;IAAG;EAAE,CAAC,CAAC;EAEzEI,SAAS,EAAEA,CAACJ,KAAK,EAAEK,KAAK,KACtBvB,GAAG,CAACmB,GAAG,CAAC,mBAAmBI,KAAK,EAAE,EAAE;IAAEH,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUH,KAAK;IAAG;EAAE,CAAC,CAAC;EAExFM,YAAY,EAAEA,CAACN,KAAK,EAAEO,MAAM,EAAEC,IAAI,KAChC1B,GAAG,CAAC2B,GAAG,CAAC,aAAaF,MAAM,SAAS,EAAEC,IAAI,EAAE;IAAEN,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUH,KAAK;IAAG;EAAE,CAAC,CAAC;EAEhGU,MAAM,EAAEA,CAACV,KAAK,EAAEO,MAAM,KACpBzB,GAAG,CAAC4B,MAAM,CAAC,aAAaH,MAAM,EAAE,EAAE;IAAEL,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUH,KAAK;IAAG;EAAE,CAAC;AACvF,CAAC;;AAED;;AAEA,OAAO,MAAMW,iBAAiB,GAAG;EAC/B;EACAZ,MAAM,EAAGC,KAAK,IAAKlB,GAAG,CAACmB,GAAG,CAAC,UAAU,EAAE;IAAEC,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUH,KAAK;IAAG;EAAE,CAAC;AAC1F,CAAC;AAED,eAAelB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}